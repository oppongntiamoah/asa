{# templates/admin/activities/booking_report.html #}
{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}Booking Report{% endblock %}

{% block content %}
<div class="container" style="max-width:1100px; margin-top: 20px;">
  <h1>Booking Report</h1>
  <p>Summary of bookings â€” shows capacity, booked count and spots left.</p>

  <table class="table table-striped table-bordered">
    <thead>
  <tr>
    <th>Activity</th>
    <th>Day</th>
    <th>Instructor</th>
    <th>Venue</th>
    <th>Capacity</th>
    <th>Booked</th>
    <th>Spots left</th>
  </tr>
</thead>
<tbody>
  {% for a in activities %}
  <tr>
    <td><a href="{% url 'admin:activities_activity_change' a.pk %}">{{ a.name }}</a></td>
    <td>{{ a.day }}</td>
    <td>{{ a.instructor }}</td>
    <td>{{ a.venue }}</td>
    <td>{% if a.capacity == 0 %}Unlimited{% else %}{{ a.capacity }}{% endif %}</td>
    <td>{{ a.bookings_count }}</td>
    <td>{% if a.capacity == 0 %}Unlimited{% else %}{{ a.capacity|add:-a.bookings_count }}{% endif %}</td>
  </tr>
  {% endfor %}
</tbody>

  </table>

  <p>
    <a class="button" href="{% url 'admin:activities_activity_changelist' %}">Manage Activities</a>
    &nbsp;
    <a class="button" href="{% url 'admin:activities_booking_changelist' %}">Manage Bookings</a>
  </p>
</div>
{% endblock %}
